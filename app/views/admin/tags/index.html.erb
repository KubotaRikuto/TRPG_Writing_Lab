<!--admin/tags/indexページ-->
<div class="row my-5 justify-content-center">
  <div class="col-11">
    <div class="row my-3 border-bottom border-dark border-2">
      <h1>タグ新規作成</h1>
    </div>
    <!-- 新規登録 -->
    <%= form_with model: @tag, url: admin_tags_path, method: :post do |f| %>
      <div class="row form-group mx-2 mb-5">
        <div class="col-sm-auto col-12 float-start pe-sm-3 px-0">
          <label class="col-form-label">タグ名</label>
        </div>
        <div class="col-sm-auto col-12 float-start pe-sm-3 px-0">
          <%= f.text_field :tag_name, autofocus: true, :placeholder => "タグ名", class: "form-control" %>
          <%= f.hidden_field :admin_created, :value => true %>
        </div>
        <%= f.submit "新規登録", class: "col-sm-auto col-12 btn btn-success mt-sm-0 mt-3"%>
      </div>
    <% end %>
    <!-- 一覧 -->
    <div class="row my-3 border-bottom border-dark border-2">
      <h1>タグ一覧</h1>
    </div>
    <div class="row">
      <div class="col-xl-4 col-md-6 col-12">
        <div class="row border-bottom">
          <div class="col-5 pe-xl-0 px-lg-3 pe-md-0">
            <p>タグ名<br class="d-sm-none d-inline"><small>(タグ使用数)</small></p>
          </div>
          <div class="col-3 d-flex align-items-center justify-content-center text-center px-0">
            <p>作成区分</p>
          </div>
          <div class="col-4 d-flex align-items-center justify-content-center text-center px-0">
            <p>編集・削除</p>
          </div>
        </div>
      </div>

      <div class="col-xl-4 col-md-6 col-12 d-none d-xl-block">
        <div class="row border-bottom">
          <div class="col-5 pe-xl-0 px-lg-3 pe-md-0">
            <p>タグ名<br class="d-sm-none d-inline"><small>(タグ使用数)</small></p>
          </div>
          <div class="col-3 text-center px-0">
            <p>作成区分</p>
          </div>
          <div class="col-4 text-center px-0">
            <p>編集・削除</p>
          </div>
        </div>
      </div>

      <div class="col-xl-4 col-md-6 col-12 d-none d-md-block">
        <div class="row border-bottom">
          <div class="col-5 pe-xl-0 px-lg-3 pe-md-0">
            <p>タグ名<br class="d-sm-none d-inline"><small>(タグ使用数)</small></p>
          </div>
          <div class="col-3 text-center px-0">
            <p>作成区分</p>
          </div>
          <div class="col-4 text-center px-0">
            <p>編集・削除</p>
          </div>
        </div>
      </div>
    </div>
    <div class="row border-bottom">
      <% @tags.each do |tags| %>
        <div class="col-xl-4 col-md-6 col-12 me-0 mb-3">
          <div class="row">
            <div class="col-5 d-flex align-items-center">
              <%= link_to tags.tag_name,admin_tag_search_path(tag_id: tags.id), class:"text-break" %>
              <%= "(#{tags.writings.count})" %>
            </div>
            <div class="col-3 text-center d-flex align-items-center justify-content-center">
              <% if tags.admin_created %>
                <span class="text-danger">管理者</span>
              <% else %>
                <span class="text-success">会員</span>
              <% end %>
            </div>
            <div class="col-4 text-center">
              <%= link_to "編集", edit_admin_tag_path(tags.id), class: "text-dark" %></br>
              <%= link_to "削除", admin_tag_path(tags.id), method: :delete, data: { confirm: "本当に削除しますか？", cancel: "やめる", commit: "退会する"}, class: "text-dark" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>